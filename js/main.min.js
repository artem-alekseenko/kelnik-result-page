"use strict";var backToTop=function(){var a=document.querySelector(".backtotop");window.onscroll=function(){document.documentElement.scrollTop>100?a.classList.add("backtotop--visible"):a.classList.remove("backtotop--visible")},a.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})};backToTop();var renderFlats=function(a,t,c){for(var e=t;e<c;e++){var s=document.createElement("div");s.classList.add("flat");var o="";switch(a[e].status){case"свободно":o="free";break;case"забронировано":o="booked";break;case"продано":o="sold";break;default:console.error("статус квартиры не указан")}var n='\n        <a href="#" class="flat-card flat-card--'.concat(o,'">\n          <div class="flat-card__header">\n            ').concat(a[e].sale?'<span class="flat-card__label flat-card__sale"> '.concat(a[e].sale," </span>"):"","\n            ").concat(a[e].shockPrice?'<span class="flat-card__label flat-card__shock-price"> шок цена </span>':"",'\n          </div>\n          <div class="flat-card__image"><img src="').concat(a[e].image,'" data-src="').concat(a[e].image,'" alt="Планировка" class="flat-card__img "></div>\n          <div class="flat-card__main">\n            <h2 class="flat-card__title">').concat(a[e].title,'</h2>\n            <div class="flat-card__feature">\n              <div class="flat-card__decoration">').concat(a[e].decoration,'</div>\n              <div class="flat-card__square">').concat(a[e].square,' м<sup>2</sup> площадь</div>\n              <div class="flat-card__floor">').concat(a[e].floor,' этаж</div>\n            </div>\n            <div class="flat-card__price">').concat(a[e].price,'</div>\n          </div>\n          <div class="flat-card__footer">\n            <div class="flat-card__status flat-card__status--').concat(o,'">').concat(a[e].status,'</div>\n          </div>\n        </a>\n        <button class="button-favorite " onclick="this.style = \'background-color: gold\'" aria-label="Добавить в избранное"><img class="button-favorite--star" src="./images/star.png", alt="star"></img></button>\n      ');s.innerHTML=n,document.querySelector(".content__flats-cards").appendChild(s)}},loadFirstFlats=function(){fetch("data/flats.json").then(function(a){return a.json()}).then(function(a){renderFlats(a.flats,0,12)})};loadFirstFlats();var loadMoreResults=function(){fetch("data/flats.json").then(function(a){return a.json()}).then(function(a){renderFlats(a.flats,12,32)})},buttonLoadMore=document.querySelector(".content__more-results");buttonLoadMore.addEventListener("click",function(){loadMoreResults(),buttonLoadMore.classList.add("is-hidden")});var validateEmail=function(){document.querySelector(".subscribe__email").oninvalid=function(){this.setCustomValidity("Пожалуйста, укажите правильный E-mail")}};validateEmail();var toggleMenu=function(){var a=document.querySelector(".toggle-menu"),t=document.querySelector(".header"),c=document.querySelector(".nav"),e=document.querySelector("body");a.addEventListener("click",function(){a.classList.toggle("is-active"),c.classList.toggle("is-active"),t.classList.toggle("is-fixed"),e.classList.toggle("is-fixed")})};toggleMenu(),console.log("sortFlats");